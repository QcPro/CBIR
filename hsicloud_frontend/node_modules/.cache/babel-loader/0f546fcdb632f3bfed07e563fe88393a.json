{"remainingRequest":"E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\src\\components\\ImageCropper\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\src\\components\\ImageCropper\\index.vue","mtime":1604049459000},{"path":"E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\CBIR-Project\\CBIR-master\\hsicloud_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCid1c2Ugc3RyaWN0JzsKCnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZSgiRTovQ0JJUi1Qcm9qZWN0L0NCSVItbWFzdGVyL2hzaWNsb3VkX2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpOwoKdmFyIF90eXBlb2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJFOi9DQklSLVByb2plY3QvQ0JJUi1tYXN0ZXIvaHNpY2xvdWRfZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIikpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzNi5udW1iZXIuY29uc3RydWN0b3IiKTsKCnZhciBfcmVxdWVzdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC91dGlscy9yZXF1ZXN0IikpOwoKdmFyIF9sYW5ndWFnZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi91dGlscy9sYW5ndWFnZS5qcyIpKTsKCnZhciBfbWltZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vdXRpbHMvbWltZXMuanMiKSk7Cgp2YXIgX2RhdGEyYmxvYiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi91dGlscy9kYXRhMmJsb2IuanMiKSk7Cgp2YXIgX2VmZmVjdFJpcHBsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi91dGlscy9lZmZlY3RSaXBwbGUuanMiKSk7Cgp2YXIgX2RlZmF1bHQgPSB7CiAgcHJvcHM6IHsKICAgIC8vIOWfn++8jOS4iuS8oOaWh+S7tm5hbWXvvIzop6blj5Hkuovku7bkvJrluKbkuIrvvIjlpoLmnpzkuIDkuKrpobXpnaLlpJrkuKrlm77niYfkuIrkvKDmjqfku7bvvIzlj6/ku6XlgZrljLrliIYKICAgIGZpZWxkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgJ2RlZmF1bHQnOiAnYXZhdGFyJwogICAgfSwKICAgIC8vIOWOn+WQjWtlee+8jOexu+S8vOS6jmlk77yM6Kem5Y+R5LqL5Lu25Lya5bim5LiK77yI5aaC5p6c5LiA5Liq6aG16Z2i5aSa5Liq5Zu+54mH5LiK5Lyg5o6n5Lu277yM5Y+v5Lul5YGa5Yy65YiGCiAgICBraTogewogICAgICAnZGVmYXVsdCc6IDAKICAgIH0sCiAgICAvLyDmmL7npLror6Xmjqfku7bkuI7lkKYKICAgIHZhbHVlOiB7CiAgICAgICdkZWZhdWx0JzogdHJ1ZQogICAgfSwKICAgIC8vIOS4iuS8oOWcsOWdgAogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgJ2RlZmF1bHQnOiAnJwogICAgfSwKICAgIC8vIOWFtuS7luimgeS4iuS8oOaWh+S7tumZhOW4pueahOaVsOaNru+8jOWvueixoeagvOW8jwogICAgcGFyYW1zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgJ2RlZmF1bHQnOiBudWxsCiAgICB9LAogICAgLy8gQWRkIGN1c3RvbSBoZWFkZXJzCiAgICBoZWFkZXJzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgJ2RlZmF1bHQnOiBudWxsCiAgICB9LAogICAgLy8g5Ymq6KOB5Zu+54mH55qE5a69CiAgICB3aWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMAogICAgfSwKICAgIC8vIOWJquijgeWbvueJh+eahOmrmAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAwCiAgICB9LAogICAgLy8g5LiN5pi+56S65peL6L2s5Yqf6IO9CiAgICBub1JvdGF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5LiN6aKE6KeI5ZyG5b2i5Zu+54mHCiAgICBub0NpcmNsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOS4jemihOiniOaWueW9ouWbvueJhwogICAgbm9TcXVhcmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDljZXmlofku7blpKflsI/pmZDliLYKICAgIG1heFNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAnZGVmYXVsdCc6IDEwMjQwCiAgICB9LAogICAgLy8g6K+t6KiA57G75Z6LCiAgICBsYW5nVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJ3poJwogICAgfSwKICAgIC8vIOivreiogOWMhQogICAgbGFuZ0V4dDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICdkZWZhdWx0JzogbnVsbAogICAgfSwKICAgIC8vIOWbvueJh+S4iuS8oOagvOW8jwogICAgaW1nRm9ybWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgJ2RlZmF1bHQnOiAncG5nJwogICAgfSwKICAgIC8vIOaYr+WQpuaUr+aMgei3qOWfnwogICAgd2l0aENyZWRlbnRpYWxzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICdkZWZhdWx0JzogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB2YXIgaW1nRm9ybWF0ID0gdGhhdC5pbWdGb3JtYXQsCiAgICAgICAgbGFuZ1R5cGUgPSB0aGF0LmxhbmdUeXBlLAogICAgICAgIGxhbmdFeHQgPSB0aGF0LmxhbmdFeHQsCiAgICAgICAgd2lkdGggPSB0aGF0LndpZHRoLAogICAgICAgIGhlaWdodCA9IHRoYXQuaGVpZ2h0OwogICAgdmFyIGlzU3VwcG9ydGVkID0gdHJ1ZTsKICAgIHZhciBhbGxvd0ltZ0Zvcm1hdCA9IFsnanBnJywgJ3BuZyddOwogICAgdmFyIHRlbXBJbWdGb3JtYXQgPSBhbGxvd0ltZ0Zvcm1hdC5pbmRleE9mKGltZ0Zvcm1hdCkgPT09IC0xID8gJ2pwZycgOiBpbWdGb3JtYXQ7CiAgICB2YXIgbGFuZyA9IF9sYW5ndWFnZS5kZWZhdWx0W2xhbmdUeXBlXSA/IF9sYW5ndWFnZS5kZWZhdWx0W2xhbmdUeXBlXSA6IF9sYW5ndWFnZS5kZWZhdWx0WydlbiddOwogICAgdmFyIG1pbWUgPSBfbWltZXMuZGVmYXVsdFt0ZW1wSW1nRm9ybWF0XTsgLy8g6KeE6IyD5Zu+54mH5qC85byPCgogICAgdGhhdC5pbWdGb3JtYXQgPSB0ZW1wSW1nRm9ybWF0OwoKICAgIGlmIChsYW5nRXh0KSB7CiAgICAgIE9iamVjdC5hc3NpZ24obGFuZywgbGFuZ0V4dCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ2Z1bmN0aW9uJykgewogICAgICBpc1N1cHBvcnRlZCA9IGZhbHNlOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIC8vIOWbvueJh+eahG1pbWUKICAgICAgbWltZTogbWltZSwKICAgICAgLy8g6K+t6KiA5YyFCiAgICAgIGxhbmc6IGxhbmcsCiAgICAgIC8vIOa1j+iniOWZqOaYr+WQpuaUr+aMgeivpeaOp+S7tgogICAgICBpc1N1cHBvcnRlZDogaXNTdXBwb3J0ZWQsCiAgICAgIC8vIOa1j+iniOWZqOaYr+WQpuaUr+aMgeinpuWxj+S6i+S7tgogICAgICBpc1N1cHBvcnRUb3VjaDogZG9jdW1lbnQuaGFzT3duUHJvcGVydHkoJ29udG91Y2hzdGFydCcpLAogICAgICAvLyDmraXpqqQKICAgICAgc3RlcDogMSwKICAgICAgLy8gMemAieaLqeaWh+S7tiAy5Ymq6KOBIDPkuIrkvKAKICAgICAgLy8g5LiK5Lyg54q25oCB5Y+K6L+b5bqmCiAgICAgIGxvYWRpbmc6IDAsCiAgICAgIC8vIDDmnKrlvIDlp4sgMeato+WcqCAy5oiQ5YqfIDPplJnor68KICAgICAgcHJvZ3Jlc3M6IDAsCiAgICAgIC8vIOaYr+WQpuaciemUmeivr+WPiumUmeivr+S/oeaBrwogICAgICBoYXNFcnJvcjogZmFsc2UsCiAgICAgIGVycm9yTXNnOiAnJywKICAgICAgLy8g6ZyA5rGC5Zu+5a696auY5q+UCiAgICAgIHJhdGlvOiB3aWR0aCAvIGhlaWdodCwKICAgICAgLy8g5Y6f5Zu+5Zyw5Z2A44CB55Sf5oiQ5Zu+54mH5Zyw5Z2ACiAgICAgIHNvdXJjZUltZzogbnVsbCwKICAgICAgc291cmNlSW1nVXJsOiAnJywKICAgICAgY3JlYXRlSW1nVXJsOiAnJywKICAgICAgLy8g5Y6f5Zu+54mH5ouW5Yqo5LqL5Lu25Yid5aeL5YC8CiAgICAgIHNvdXJjZUltZ01vdXNlRG93bjogewogICAgICAgIG9uOiBmYWxzZSwKICAgICAgICBtWDogMCwKICAgICAgICAvLyDpvKDmoIfmjInkuIvnmoTlnZDmoIcKICAgICAgICBtWTogMCwKICAgICAgICB4OiAwLAogICAgICAgIC8vIHNjYWxl5Y6f5Zu+5Z2Q5qCHCiAgICAgICAgeTogMAogICAgICB9LAogICAgICAvLyDnlJ/miJDlm77niYfpooTop4jnmoTlrrnlmajlpKflsI8KICAgICAgcHJldmlld0NvbnRhaW5lcjogewogICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgaGVpZ2h0OiAxMDAKICAgICAgfSwKICAgICAgLy8g5Y6f5Zu+5a655Zmo5a696auYCiAgICAgIHNvdXJjZUltZ0NvbnRhaW5lcjogewogICAgICAgIC8vIHNpYwogICAgICAgIHdpZHRoOiAyNDAsCiAgICAgICAgaGVpZ2h0OiAxODQgLy8g5aaC5p6c55Sf5oiQ5Zu+5q+U5L6L5LiO5q2k5LiA6Ie05Lya5Ye6546wYnVn77yM5YWI5pS55oiQ54m55q6K55qE5qC85byP5ZCn77yM5ZOI5ZOI5ZOICgogICAgICB9LAogICAgICAvLyDljp/lm77lsZXnpLrlsZ7mgKcKICAgICAgc2NhbGU6IHsKICAgICAgICB6b29tQWRkT246IGZhbHNlLAogICAgICAgIC8vIOaMiemSrue8qeaUvuS6i+S7tuW8gOWQrwogICAgICAgIHpvb21TdWJPbjogZmFsc2UsCiAgICAgICAgLy8g5oyJ6ZKu57yp5pS+5LqL5Lu25byA5ZCvCiAgICAgICAgcmFuZ2U6IDEsCiAgICAgICAgLy8g5pyA5aSnMTAwCiAgICAgICAgcm90YXRlTGVmdDogZmFsc2UsCiAgICAgICAgLy8g5oyJ6ZKu5ZCR5bem5peL6L2s5LqL5Lu25byA5ZCvCiAgICAgICAgcm90YXRlUmlnaHQ6IGZhbHNlLAogICAgICAgIC8vIOaMiemSruWQkeWPs+aXi+i9rOS6i+S7tuW8gOWQrwogICAgICAgIGRlZ3JlZTogMCwKICAgICAgICAvLyDml4vovazluqbmlbAKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAsCiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgIG1heFdpZHRoOiAwLAogICAgICAgIG1heEhlaWdodDogMCwKICAgICAgICBtaW5XaWR0aDogMCwKICAgICAgICAvLyDmnIDlrr0KICAgICAgICBtaW5IZWlnaHQ6IDAsCiAgICAgICAgbmF0dXJhbFdpZHRoOiAwLAogICAgICAgIC8vIOWOn+WuvQogICAgICAgIG5hdHVyYWxIZWlnaHQ6IDAKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDov5vluqbmnaHmoLflvI8KICAgIHByb2dyZXNzU3R5bGU6IGZ1bmN0aW9uIHByb2dyZXNzU3R5bGUoKSB7CiAgICAgIHZhciBwcm9ncmVzcyA9IHRoaXMucHJvZ3Jlc3M7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHByb2dyZXNzICsgJyUnCiAgICAgIH07CiAgICB9LAogICAgLy8g5Y6f5Zu+5qC35byPCiAgICBzb3VyY2VJbWdTdHlsZTogZnVuY3Rpb24gc291cmNlSW1nU3R5bGUoKSB7CiAgICAgIHZhciBzY2FsZSA9IHRoaXMuc2NhbGUsCiAgICAgICAgICBzb3VyY2VJbWdNYXNraW5nID0gdGhpcy5zb3VyY2VJbWdNYXNraW5nOwogICAgICB2YXIgdG9wID0gc2NhbGUueSArIHNvdXJjZUltZ01hc2tpbmcueSArICdweCc7CiAgICAgIHZhciBsZWZ0ID0gc2NhbGUueCArIHNvdXJjZUltZ01hc2tpbmcueCArICdweCc7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG9wOiB0b3AsCiAgICAgICAgbGVmdDogbGVmdCwKICAgICAgICB3aWR0aDogc2NhbGUud2lkdGggKyAncHgnLAogICAgICAgIGhlaWdodDogc2NhbGUuaGVpZ2h0ICsgJ3B4JywKICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoJyArIHNjYWxlLmRlZ3JlZSArICdkZWcpJywKICAgICAgICAvLyDml4vovazml7Yg5bem5L6n5Y6f5aeL5Zu+5peL6L2s5qC35byPCiAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBzY2FsZS5kZWdyZWUgKyAnZGVnKScsCiAgICAgICAgLy8g5YW85a65SUU5CiAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgc2NhbGUuZGVncmVlICsgJ2RlZyknLAogICAgICAgIC8vIOWFvOWuuUZpcmVGb3gKICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBzY2FsZS5kZWdyZWUgKyAnZGVnKScsCiAgICAgICAgLy8g5YW85a65U2FmYXJpIOWSjCBjaHJvbWUKICAgICAgICAnLW8tdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgc2NhbGUuZGVncmVlICsgJ2RlZyknIC8vIOWFvOWuuSBPcGVyYQoKICAgICAgfTsKICAgIH0sCiAgICAvLyDljp/lm77okpnniYjlsZ7mgKcKICAgIHNvdXJjZUltZ01hc2tpbmc6IGZ1bmN0aW9uIHNvdXJjZUltZ01hc2tpbmcoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCwKICAgICAgICAgIHJhdGlvID0gdGhpcy5yYXRpbywKICAgICAgICAgIHNvdXJjZUltZ0NvbnRhaW5lciA9IHRoaXMuc291cmNlSW1nQ29udGFpbmVyOwogICAgICB2YXIgc2ljID0gc291cmNlSW1nQ29udGFpbmVyOwogICAgICB2YXIgc2ljUmF0aW8gPSBzaWMud2lkdGggLyBzaWMuaGVpZ2h0OyAvLyDljp/lm77lrrnlmajlrr3pq5jmr5QKCiAgICAgIHZhciB4ID0gMDsKICAgICAgdmFyIHkgPSAwOwogICAgICB2YXIgdyA9IHNpYy53aWR0aDsKICAgICAgdmFyIGggPSBzaWMuaGVpZ2h0OwogICAgICB2YXIgc2NhbGUgPSAxOwoKICAgICAgaWYgKHJhdGlvIDwgc2ljUmF0aW8pIHsKICAgICAgICBzY2FsZSA9IHNpYy5oZWlnaHQgLyBoZWlnaHQ7CiAgICAgICAgdyA9IHNpYy5oZWlnaHQgKiByYXRpbzsKICAgICAgICB4ID0gKHNpYy53aWR0aCAtIHcpIC8gMjsKICAgICAgfQoKICAgICAgaWYgKHJhdGlvID4gc2ljUmF0aW8pIHsKICAgICAgICBzY2FsZSA9IHNpYy53aWR0aCAvIHdpZHRoOwogICAgICAgIGggPSBzaWMud2lkdGggLyByYXRpbzsKICAgICAgICB5ID0gKHNpYy5oZWlnaHQgLSBoKSAvIDI7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgc2NhbGU6IHNjYWxlLAogICAgICAgIC8vIOiSmeeJiOebuOWvuemcgOaxguWuvemrmOeahOe8qeaUvgogICAgICAgIHg6IHgsCiAgICAgICAgeTogeSwKICAgICAgICB3aWR0aDogdywKICAgICAgICBoZWlnaHQ6IGgKICAgICAgfTsKICAgIH0sCiAgICAvLyDljp/lm77pga7nvanmoLflvI8KICAgIHNvdXJjZUltZ1NoYWRlU3R5bGU6IGZ1bmN0aW9uIHNvdXJjZUltZ1NoYWRlU3R5bGUoKSB7CiAgICAgIHZhciBzb3VyY2VJbWdNYXNraW5nID0gdGhpcy5zb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgc291cmNlSW1nQ29udGFpbmVyID0gdGhpcy5zb3VyY2VJbWdDb250YWluZXI7CiAgICAgIHZhciBzaWMgPSBzb3VyY2VJbWdDb250YWluZXI7CiAgICAgIHZhciBzaW0gPSBzb3VyY2VJbWdNYXNraW5nOwogICAgICB2YXIgdyA9IHNpbS53aWR0aCA9PSBzaWMud2lkdGggPyBzaW0ud2lkdGggOiAoc2ljLndpZHRoIC0gc2ltLndpZHRoKSAvIDI7CiAgICAgIHZhciBoID0gc2ltLmhlaWdodCA9PSBzaWMuaGVpZ2h0ID8gc2ltLmhlaWdodCA6IChzaWMuaGVpZ2h0IC0gc2ltLmhlaWdodCkgLyAyOwogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3ICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IGggKyAncHgnCiAgICAgIH07CiAgICB9LAogICAgcHJldmlld1N0eWxlOiBmdW5jdGlvbiBwcmV2aWV3U3R5bGUoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCwKICAgICAgICAgIHJhdGlvID0gdGhpcy5yYXRpbywKICAgICAgICAgIHByZXZpZXdDb250YWluZXIgPSB0aGlzLnByZXZpZXdDb250YWluZXI7CiAgICAgIHZhciBwYyA9IHByZXZpZXdDb250YWluZXI7CiAgICAgIHZhciB3ID0gcGMud2lkdGg7CiAgICAgIHZhciBoID0gcGMuaGVpZ2h0OwogICAgICB2YXIgcGNSYXRpbyA9IHcgLyBoOwoKICAgICAgaWYgKHJhdGlvIDwgcGNSYXRpbykgewogICAgICAgIHcgPSBwYy5oZWlnaHQgKiByYXRpbzsKICAgICAgfQoKICAgICAgaWYgKHJhdGlvID4gcGNSYXRpbykgewogICAgICAgIGggPSBwYy53aWR0aCAvIHJhdGlvOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3ICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IGggKyAncHgnCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKG5ld1ZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSAmJiB0aGlzLmxvYWRpbmcgIT0gMSkgewogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g54K55Ye75rOi57q55pWI5p6cCiAgICByaXBwbGU6IGZ1bmN0aW9uIHJpcHBsZShlKSB7CiAgICAgICgwLCBfZWZmZWN0UmlwcGxlLmRlZmF1bHQpKGUpOwogICAgfSwKICAgIC8vIOWFs+mXreaOp+S7tgogICAgb2ZmOiBmdW5jdGlvbiBvZmYoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kZW1pdCgnaW5wdXQnLCBmYWxzZSk7CgogICAgICAgIF90aGlzLiRlbWl0KCdjbG9zZScpOwoKICAgICAgICBpZiAoX3RoaXMuc3RlcCA9PSAzICYmIF90aGlzLmxvYWRpbmcgPT0gMikgewogICAgICAgICAgX3RoaXMuc2V0U3RlcCgxKTsKICAgICAgICB9CiAgICAgIH0sIDIwMCk7CiAgICB9LAogICAgLy8g6K6+572u5q2l6aqkCiAgICBzZXRTdGVwOiBmdW5jdGlvbiBzZXRTdGVwKG5vKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g5bu25pe25piv5Li65LqG5pi+56S65Yqo55S75pWI5p6c5ZGi77yM5ZOI5ZOI5ZOICiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zdGVwID0gbm87CiAgICAgIH0sIDIwMCk7CiAgICB9LAoKICAgIC8qIOWbvueJh+mAieaLqeWMuuWfn+WHveaVsOe7keWumgogICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkgewogICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSAxKSB7CiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzLiRyZWZzLmZpbGVpbnB1dCkgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0aGlzLiRyZWZzKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZWlucHV0LmNsaWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSAxKSB7CiAgICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7CiAgICAgICAgdGhpcy5yZXNldCgpOwoKICAgICAgICBpZiAodGhpcy5jaGVja0ZpbGUoZmlsZXNbMF0pKSB7CiAgICAgICAgICB0aGlzLnNldFNvdXJjZUltZyhmaWxlc1swXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICAvLyDmo4DmtYvpgInmi6nnmoTmlofku7bmmK/lkKblkIjpgIIKICAgIGNoZWNrRmlsZTogZnVuY3Rpb24gY2hlY2tGaWxlKGZpbGUpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgICAgbGFuZyA9IHRoYXQubGFuZywKICAgICAgICAgIG1heFNpemUgPSB0aGF0Lm1heFNpemU7IC8vIOS7hemZkOWbvueJhwoKICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAtMSkgewogICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm9ubHlJbWc7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIOi2heWHuuWkp+WwjwoKCiAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0ID4gbWF4U2l6ZSkgewogICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm91dE9mU2l6ZSArIG1heFNpemUgKyAna2InOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgLy8g6YeN572u5o6n5Lu2CiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5sb2FkaW5nID0gMDsKICAgICAgdGhhdC5oYXNFcnJvciA9IGZhbHNlOwogICAgICB0aGF0LmVycm9yTXNnID0gJyc7CiAgICAgIHRoYXQucHJvZ3Jlc3MgPSAwOwogICAgfSwKICAgIC8vIOiuvue9ruWbvueJh+a6kAogICAgc2V0U291cmNlSW1nOiBmdW5jdGlvbiBzZXRTb3VyY2VJbWcoZmlsZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBmciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICBmci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHRoYXQuc291cmNlSW1nVXJsID0gZnIucmVzdWx0OwogICAgICAgIHRoYXQuc3RhcnRDcm9wKCk7CiAgICAgIH07CgogICAgICBmci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSwKICAgIC8vIOWJquijgeWJjeWHhuWkh+W3peS9nAogICAgc3RhcnRDcm9wOiBmdW5jdGlvbiBzdGFydENyb3AoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcywKICAgICAgICAgIHdpZHRoID0gdGhhdC53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IHRoYXQuaGVpZ2h0LAogICAgICAgICAgcmF0aW8gPSB0aGF0LnJhdGlvLAogICAgICAgICAgc2NhbGUgPSB0aGF0LnNjYWxlLAogICAgICAgICAgc291cmNlSW1nVXJsID0gdGhhdC5zb3VyY2VJbWdVcmwsCiAgICAgICAgICBzb3VyY2VJbWdNYXNraW5nID0gdGhhdC5zb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgbGFuZyA9IHRoYXQubGFuZywKICAgICAgICAgIHNpbSA9IHNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgICBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLnNyYyA9IHNvdXJjZUltZ1VybDsKCiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG5XaWR0aCA9IGltZy5uYXR1cmFsV2lkdGgsCiAgICAgICAgICAgIG5IZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodCwKICAgICAgICAgICAgblJhdGlvID0gbldpZHRoIC8gbkhlaWdodCwKICAgICAgICAgICAgdyA9IHNpbS53aWR0aCwKICAgICAgICAgICAgaCA9IHNpbS5oZWlnaHQsCiAgICAgICAgICAgIHggPSAwLAogICAgICAgICAgICB5ID0gMDsgLy8g5Zu+54mH5YOP57Sg5LiN6L6+5qCHCgogICAgICAgIGlmIChuV2lkdGggPCB3aWR0aCB8fCBuSGVpZ2h0IDwgaGVpZ2h0KSB7CiAgICAgICAgICB0aGF0Lmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLmxvd2VzdFB4ICsgd2lkdGggKyAnKicgKyBoZWlnaHQ7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAocmF0aW8gPiBuUmF0aW8pIHsKICAgICAgICAgIGggPSB3IC8gblJhdGlvOwogICAgICAgICAgeSA9IChzaW0uaGVpZ2h0IC0gaCkgLyAyOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJhdGlvIDwgblJhdGlvKSB7CiAgICAgICAgICB3ID0gaCAqIG5SYXRpbzsKICAgICAgICAgIHggPSAoc2ltLndpZHRoIC0gdykgLyAyOwogICAgICAgIH0KCiAgICAgICAgc2NhbGUucmFuZ2UgPSAwOwogICAgICAgIHNjYWxlLnggPSB4OwogICAgICAgIHNjYWxlLnkgPSB5OwogICAgICAgIHNjYWxlLndpZHRoID0gdzsKICAgICAgICBzY2FsZS5oZWlnaHQgPSBoOwogICAgICAgIHNjYWxlLmRlZ3JlZSA9IDA7CiAgICAgICAgc2NhbGUubWluV2lkdGggPSB3OwogICAgICAgIHNjYWxlLm1pbkhlaWdodCA9IGg7CiAgICAgICAgc2NhbGUubWF4V2lkdGggPSBuV2lkdGggKiBzaW0uc2NhbGU7CiAgICAgICAgc2NhbGUubWF4SGVpZ2h0ID0gbkhlaWdodCAqIHNpbS5zY2FsZTsKICAgICAgICBzY2FsZS5uYXR1cmFsV2lkdGggPSBuV2lkdGg7CiAgICAgICAgc2NhbGUubmF0dXJhbEhlaWdodCA9IG5IZWlnaHQ7CiAgICAgICAgdGhhdC5zb3VyY2VJbWcgPSBpbWc7CiAgICAgICAgdGhhdC5jcmVhdGVJbWcoKTsKICAgICAgICB0aGF0LnNldFN0ZXAoMik7CiAgICAgIH07CiAgICB9LAogICAgLy8g6byg5qCH5oyJ5LiL5Zu+54mH5YeG5aSH56e75YqoCiAgICBpbWdTdGFydE1vdmU6IGZ1bmN0aW9uIGltZ1N0YXJ0TW92ZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8g5pSv5oyB6Kem5pG45LqL5Lu277yM5YiZ6byg5qCH5LqL5Lu25peg5pWICgogICAgICBpZiAodGhpcy5pc1N1cHBvcnRUb3VjaCAmJiAhZS50YXJnZXRUb3VjaGVzKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZXQgPSBlLnRhcmdldFRvdWNoZXMgPyBlLnRhcmdldFRvdWNoZXNbMF0gOiBlLAogICAgICAgICAgc291cmNlSW1nTW91c2VEb3duID0gdGhpcy5zb3VyY2VJbWdNb3VzZURvd24sCiAgICAgICAgICBzY2FsZSA9IHRoaXMuc2NhbGUsCiAgICAgICAgICBzaW1kID0gc291cmNlSW1nTW91c2VEb3duOwogICAgICBzaW1kLm1YID0gZXQuc2NyZWVuWDsKICAgICAgc2ltZC5tWSA9IGV0LnNjcmVlblk7CiAgICAgIHNpbWQueCA9IHNjYWxlLng7CiAgICAgIHNpbWQueSA9IHNjYWxlLnk7CiAgICAgIHNpbWQub24gPSB0cnVlOwogICAgfSwKICAgIC8vIOm8oOagh+aMieS4i+eKtuaAgeS4i+enu+WKqO+8jOWbvueJh+enu+WKqAogICAgaW1nTW92ZTogZnVuY3Rpb24gaW1nTW92ZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8g5pSv5oyB6Kem5pG45LqL5Lu277yM5YiZ6byg5qCH5LqL5Lu25peg5pWICgogICAgICBpZiAodGhpcy5pc1N1cHBvcnRUb3VjaCAmJiAhZS50YXJnZXRUb3VjaGVzKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZXQgPSBlLnRhcmdldFRvdWNoZXMgPyBlLnRhcmdldFRvdWNoZXNbMF0gOiBlLAogICAgICAgICAgX3RoaXMkc291cmNlSW1nTW91c2VEID0gdGhpcy5zb3VyY2VJbWdNb3VzZURvd24sCiAgICAgICAgICBvbiA9IF90aGlzJHNvdXJjZUltZ01vdXNlRC5vbiwKICAgICAgICAgIG1YID0gX3RoaXMkc291cmNlSW1nTW91c2VELm1YLAogICAgICAgICAgbVkgPSBfdGhpcyRzb3VyY2VJbWdNb3VzZUQubVksCiAgICAgICAgICB4ID0gX3RoaXMkc291cmNlSW1nTW91c2VELngsCiAgICAgICAgICB5ID0gX3RoaXMkc291cmNlSW1nTW91c2VELnksCiAgICAgICAgICBzY2FsZSA9IHRoaXMuc2NhbGUsCiAgICAgICAgICBzb3VyY2VJbWdNYXNraW5nID0gdGhpcy5zb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgc2ltID0gc291cmNlSW1nTWFza2luZywKICAgICAgICAgIG5YID0gZXQuc2NyZWVuWCwKICAgICAgICAgIG5ZID0gZXQuc2NyZWVuWSwKICAgICAgICAgIGRYID0gblggLSBtWCwKICAgICAgICAgIGRZID0gblkgLSBtWSwKICAgICAgICAgIHJYID0geCArIGRYLAogICAgICAgICAgclkgPSB5ICsgZFk7CiAgICAgIGlmICghb24pIHJldHVybjsKCiAgICAgIGlmIChyWCA+IDApIHsKICAgICAgICByWCA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChyWSA+IDApIHsKICAgICAgICByWSA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChyWCA8IHNpbS53aWR0aCAtIHNjYWxlLndpZHRoKSB7CiAgICAgICAgclggPSBzaW0ud2lkdGggLSBzY2FsZS53aWR0aDsKICAgICAgfQoKICAgICAgaWYgKHJZIDwgc2ltLmhlaWdodCAtIHNjYWxlLmhlaWdodCkgewogICAgICAgIHJZID0gc2ltLmhlaWdodCAtIHNjYWxlLmhlaWdodDsKICAgICAgfQoKICAgICAgc2NhbGUueCA9IHJYOwogICAgICBzY2FsZS55ID0gclk7CiAgICB9LAogICAgLy8g5oyJ6ZKu5oyJ5LiL5byA5aeL5ZCR5Y+z5peL6L2sCiAgICBzdGFydFJvdGF0ZVJpZ2h0OiBmdW5jdGlvbiBzdGFydFJvdGF0ZVJpZ2h0KGUpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgICAgc2NhbGUgPSB0aGF0LnNjYWxlOwogICAgICBzY2FsZS5yb3RhdGVSaWdodCA9IHRydWU7CgogICAgICBmdW5jdGlvbiByb3RhdGUoKSB7CiAgICAgICAgaWYgKHNjYWxlLnJvdGF0ZVJpZ2h0KSB7CiAgICAgICAgICB2YXIgZGVncmVlID0gKytzY2FsZS5kZWdyZWU7CiAgICAgICAgICB0aGF0LmNyZWF0ZUltZyhkZWdyZWUpOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJvdGF0ZSgpOwogICAgICAgICAgfSwgNjApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcm90YXRlKCk7CiAgICB9LAogICAgLy8g5oyJ6ZKu5oyJ5LiL5byA5aeL5ZCR5Y+z5peL6L2sCiAgICBzdGFydFJvdGF0ZUxlZnQ6IGZ1bmN0aW9uIHN0YXJ0Um90YXRlTGVmdChlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcywKICAgICAgICAgIHNjYWxlID0gdGhhdC5zY2FsZTsKICAgICAgc2NhbGUucm90YXRlTGVmdCA9IHRydWU7CgogICAgICBmdW5jdGlvbiByb3RhdGUoKSB7CiAgICAgICAgaWYgKHNjYWxlLnJvdGF0ZUxlZnQpIHsKICAgICAgICAgIHZhciBkZWdyZWUgPSAtLXNjYWxlLmRlZ3JlZTsKICAgICAgICAgIHRoYXQuY3JlYXRlSW1nKGRlZ3JlZSk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcm90YXRlKCk7CiAgICAgICAgICB9LCA2MCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByb3RhdGUoKTsKICAgIH0sCiAgICAvLyDlgZzmraLml4vovawKICAgIGVuZFJvdGF0ZTogZnVuY3Rpb24gZW5kUm90YXRlKCkgewogICAgICB2YXIgc2NhbGUgPSB0aGlzLnNjYWxlOwogICAgICBzY2FsZS5yb3RhdGVMZWZ0ID0gZmFsc2U7CiAgICAgIHNjYWxlLnJvdGF0ZVJpZ2h0ID0gZmFsc2U7CiAgICB9LAogICAgLy8g5oyJ6ZKu5oyJ5LiL5byA5aeL5pS+5aSnCiAgICBzdGFydFpvb21BZGQ6IGZ1bmN0aW9uIHN0YXJ0Wm9vbUFkZChlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcywKICAgICAgICAgIHNjYWxlID0gdGhhdC5zY2FsZTsKICAgICAgc2NhbGUuem9vbUFkZE9uID0gdHJ1ZTsKCiAgICAgIGZ1bmN0aW9uIHpvb20oKSB7CiAgICAgICAgaWYgKHNjYWxlLnpvb21BZGRPbikgewogICAgICAgICAgdmFyIHJhbmdlID0gc2NhbGUucmFuZ2UgPj0gMTAwID8gMTAwIDogKytzY2FsZS5yYW5nZTsKICAgICAgICAgIHRoYXQuem9vbUltZyhyYW5nZSk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgem9vbSgpOwogICAgICAgICAgfSwgNjApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgem9vbSgpOwogICAgfSwKICAgIC8vIOaMiemSruadvuW8gOaIluenu+W8gOWPlua2iOaUvuWkpwogICAgZW5kWm9vbUFkZDogZnVuY3Rpb24gZW5kWm9vbUFkZChlKSB7CiAgICAgIHRoaXMuc2NhbGUuem9vbUFkZE9uID0gZmFsc2U7CiAgICB9LAogICAgLy8g5oyJ6ZKu5oyJ5LiL5byA5aeL57yp5bCPCiAgICBzdGFydFpvb21TdWI6IGZ1bmN0aW9uIHN0YXJ0Wm9vbVN1YihlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcywKICAgICAgICAgIHNjYWxlID0gdGhhdC5zY2FsZTsKICAgICAgc2NhbGUuem9vbVN1Yk9uID0gdHJ1ZTsKCiAgICAgIGZ1bmN0aW9uIHpvb20oKSB7CiAgICAgICAgaWYgKHNjYWxlLnpvb21TdWJPbikgewogICAgICAgICAgdmFyIHJhbmdlID0gc2NhbGUucmFuZ2UgPD0gMCA/IDAgOiAtLXNjYWxlLnJhbmdlOwogICAgICAgICAgdGhhdC56b29tSW1nKHJhbmdlKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB6b29tKCk7CiAgICAgICAgICB9LCA2MCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB6b29tKCk7CiAgICB9LAogICAgLy8g5oyJ6ZKu5p2+5byA5oiW56e75byA5Y+W5raI57yp5bCPCiAgICBlbmRab29tU3ViOiBmdW5jdGlvbiBlbmRab29tU3ViKGUpIHsKICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZTsKICAgICAgc2NhbGUuem9vbVN1Yk9uID0gZmFsc2U7CiAgICB9LAogICAgem9vbUNoYW5nZTogZnVuY3Rpb24gem9vbUNoYW5nZShlKSB7CiAgICAgIHRoaXMuem9vbUltZyhlLnRhcmdldC52YWx1ZSk7CiAgICB9LAogICAgLy8g57yp5pS+5Y6f5Zu+CiAgICB6b29tSW1nOiBmdW5jdGlvbiB6b29tSW1nKG5ld1JhbmdlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHNvdXJjZUltZ01hc2tpbmcgPSB0aGlzLnNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgICBzb3VyY2VJbWdNb3VzZURvd24gPSB0aGlzLnNvdXJjZUltZ01vdXNlRG93biwKICAgICAgICAgIHNjYWxlID0gdGhpcy5zY2FsZTsKICAgICAgdmFyIG1heFdpZHRoID0gc2NhbGUubWF4V2lkdGgsCiAgICAgICAgICBtYXhIZWlnaHQgPSBzY2FsZS5tYXhIZWlnaHQsCiAgICAgICAgICBtaW5XaWR0aCA9IHNjYWxlLm1pbldpZHRoLAogICAgICAgICAgbWluSGVpZ2h0ID0gc2NhbGUubWluSGVpZ2h0LAogICAgICAgICAgd2lkdGggPSBzY2FsZS53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IHNjYWxlLmhlaWdodCwKICAgICAgICAgIHggPSBzY2FsZS54LAogICAgICAgICAgeSA9IHNjYWxlLnksCiAgICAgICAgICByYW5nZSA9IHNjYWxlLnJhbmdlOwogICAgICB2YXIgc2ltID0gc291cmNlSW1nTWFza2luZzsgLy8g6JKZ54mI5a696auYCgogICAgICB2YXIgc1dpZHRoID0gc2ltLndpZHRoOwogICAgICB2YXIgc0hlaWdodCA9IHNpbS5oZWlnaHQ7IC8vIOaWsOWuvemrmAoKICAgICAgdmFyIG5XaWR0aCA9IG1pbldpZHRoICsgKG1heFdpZHRoIC0gbWluV2lkdGgpICogbmV3UmFuZ2UgLyAxMDA7CiAgICAgIHZhciBuSGVpZ2h0ID0gbWluSGVpZ2h0ICsgKG1heEhlaWdodCAtIG1pbkhlaWdodCkgKiBuZXdSYW5nZSAvIDEwMDsgLy8g5paw5Z2Q5qCH77yI5qC55o2u6JKZ54mI5Lit5b+D54K557yp5pS+77yJCgogICAgICB2YXIgblggPSBzV2lkdGggLyAyIC0gbldpZHRoIC8gd2lkdGggKiAoc1dpZHRoIC8gMiAtIHgpOwogICAgICB2YXIgblkgPSBzSGVpZ2h0IC8gMiAtIG5IZWlnaHQgLyBoZWlnaHQgKiAoc0hlaWdodCAvIDIgLSB5KTsgLy8g5Yik5pat5paw5Z2Q5qCH5piv5ZCm6LaF6L+H6JKZ54mI6ZmQ5Yi2CgogICAgICBpZiAoblggPiAwKSB7CiAgICAgICAgblggPSAwOwogICAgICB9CgogICAgICBpZiAoblkgPiAwKSB7CiAgICAgICAgblkgPSAwOwogICAgICB9CgogICAgICBpZiAoblggPCBzV2lkdGggLSBuV2lkdGgpIHsKICAgICAgICBuWCA9IHNXaWR0aCAtIG5XaWR0aDsKICAgICAgfQoKICAgICAgaWYgKG5ZIDwgc0hlaWdodCAtIG5IZWlnaHQpIHsKICAgICAgICBuWSA9IHNIZWlnaHQgLSBuSGVpZ2h0OwogICAgICB9IC8vIOi1i+WAvOWkhOeQhgoKCiAgICAgIHNjYWxlLnggPSBuWDsKICAgICAgc2NhbGUueSA9IG5ZOwogICAgICBzY2FsZS53aWR0aCA9IG5XaWR0aDsKICAgICAgc2NhbGUuaGVpZ2h0ID0gbkhlaWdodDsKICAgICAgc2NhbGUucmFuZ2UgPSBuZXdSYW5nZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHNjYWxlLnJhbmdlID09IG5ld1JhbmdlKSB7CiAgICAgICAgICB0aGF0LmNyZWF0ZUltZygpOwogICAgICAgIH0KICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICAvLyDnlJ/miJDpnIDmsYLlm77niYcKICAgIGNyZWF0ZUltZzogZnVuY3Rpb24gY3JlYXRlSW1nKGUpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgICAgbWltZSA9IHRoYXQubWltZSwKICAgICAgICAgIHNvdXJjZUltZyA9IHRoYXQuc291cmNlSW1nLAogICAgICAgICAgX3RoYXQkc2NhbGUgPSB0aGF0LnNjYWxlLAogICAgICAgICAgeCA9IF90aGF0JHNjYWxlLngsCiAgICAgICAgICB5ID0gX3RoYXQkc2NhbGUueSwKICAgICAgICAgIHdpZHRoID0gX3RoYXQkc2NhbGUud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBfdGhhdCRzY2FsZS5oZWlnaHQsCiAgICAgICAgICBkZWdyZWUgPSBfdGhhdCRzY2FsZS5kZWdyZWUsCiAgICAgICAgICBzY2FsZSA9IHRoYXQuc291cmNlSW1nTWFza2luZy5zY2FsZSwKICAgICAgICAgIGNhbnZhcyA9IHRoYXQuJHJlZnMuY2FudmFzLAogICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CgogICAgICBpZiAoZSkgewogICAgICAgIC8vIOWPlua2iOm8oOagh+aMieS4i+enu+WKqOeKtuaAgQogICAgICAgIHRoYXQuc291cmNlSW1nTW91c2VEb3duLm9uID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGNhbnZhcy53aWR0aCA9IHRoYXQud2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGF0LmhlaWdodDsKICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGF0LndpZHRoLCB0aGF0LmhlaWdodCk7IC8vIOWwhumAj+aYjuWMuuWfn+iuvue9ruS4uueZveiJsuW6lei+uQoKICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmJzsKICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRoYXQud2lkdGgsIHRoYXQuaGVpZ2h0KTsKICAgICAgY3R4LnRyYW5zbGF0ZSh0aGF0LndpZHRoICogMC41LCB0aGF0LmhlaWdodCAqIDAuNSk7CiAgICAgIGN0eC5yb3RhdGUoTWF0aC5QSSAqIGRlZ3JlZSAvIDE4MCk7CiAgICAgIGN0eC50cmFuc2xhdGUoLXRoYXQud2lkdGggKiAwLjUsIC10aGF0LmhlaWdodCAqIDAuNSk7CiAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlSW1nLCB4IC8gc2NhbGUsIHkgLyBzY2FsZSwgd2lkdGggLyBzY2FsZSwgaGVpZ2h0IC8gc2NhbGUpOwogICAgICB0aGF0LmNyZWF0ZUltZ1VybCA9IGNhbnZhcy50b0RhdGFVUkwobWltZSk7CiAgICB9LAogICAgcHJlcGFyZVVwbG9hZDogZnVuY3Rpb24gcHJlcGFyZVVwbG9hZCgpIHsKICAgICAgdmFyIHVybCA9IHRoaXMudXJsLAogICAgICAgICAgY3JlYXRlSW1nVXJsID0gdGhpcy5jcmVhdGVJbWdVcmwsCiAgICAgICAgICBmaWVsZCA9IHRoaXMuZmllbGQsCiAgICAgICAgICBraSA9IHRoaXMua2k7CiAgICAgIHRoaXMuJGVtaXQoJ2Nyb3Atc3VjY2VzcycsIGNyZWF0ZUltZ1VybCwgZmllbGQsIGtpKTsKCiAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyAmJiB1cmwpIHsKICAgICAgICB0aGlzLnVwbG9hZCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub2ZmKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkvKDlm77niYcKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBsYW5nID0gdGhpcy5sYW5nLAogICAgICAgICAgaW1nRm9ybWF0ID0gdGhpcy5pbWdGb3JtYXQsCiAgICAgICAgICBtaW1lID0gdGhpcy5taW1lLAogICAgICAgICAgdXJsID0gdGhpcy51cmwsCiAgICAgICAgICBwYXJhbXMgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGhlYWRlcnMgPSB0aGlzLmhlYWRlcnMsCiAgICAgICAgICBmaWVsZCA9IHRoaXMuZmllbGQsCiAgICAgICAgICBraSA9IHRoaXMua2ksCiAgICAgICAgICBjcmVhdGVJbWdVcmwgPSB0aGlzLmNyZWF0ZUltZ1VybCwKICAgICAgICAgIHdpdGhDcmVkZW50aWFscyA9IHRoaXMud2l0aENyZWRlbnRpYWxzLAogICAgICAgICAgZm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZtRGF0YS5hcHBlbmQoZmllbGQsICgwLCBfZGF0YTJibG9iLmRlZmF1bHQpKGNyZWF0ZUltZ1VybCwgbWltZSksIGZpZWxkICsgJy4nICsgaW1nRm9ybWF0KTsgLy8g5re75Yqg5YW25LuW5Y+C5pWwCgogICAgICBpZiAoKDAsIF90eXBlb2YyLmRlZmF1bHQpKHBhcmFtcykgPT09ICdvYmplY3QnICYmIHBhcmFtcykgewogICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgZm1EYXRhLmFwcGVuZChrLCBwYXJhbXNba10pOwogICAgICAgIH0pOwogICAgICB9IC8vIOebkeWQrOi/m+W6puWbnuiwgwoKCiAgICAgIHZhciB1cGxvYWRQcm9ncmVzcyA9IGZ1bmN0aW9uIHVwbG9hZFByb2dyZXNzKGV2ZW50KSB7CiAgICAgICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHsKICAgICAgICAgIHRoYXQucHJvZ3Jlc3MgPSAxMDAgKiBNYXRoLnJvdW5kKGV2ZW50LmxvYWRlZCkgLyBldmVudC50b3RhbDsKICAgICAgICB9CiAgICAgIH07IC8vIOS4iuS8oOaWh+S7tgoKCiAgICAgIHRoYXQucmVzZXQoKTsKICAgICAgdGhhdC5sb2FkaW5nID0gMTsKICAgICAgdGhhdC5zZXRTdGVwKDMpOwogICAgICAoMCwgX3JlcXVlc3QuZGVmYXVsdCkoewogICAgICAgIHVybDogdXJsLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IGZtRGF0YQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNEYXRhKSB7CiAgICAgICAgdGhhdC5sb2FkaW5nID0gMjsKICAgICAgICB0aGF0LiRlbWl0KCdjcm9wLXVwbG9hZC1zdWNjZXNzJywgcmVzRGF0YS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGlmICh0aGF0LnZhbHVlKSB7CiAgICAgICAgICB0aGF0LmxvYWRpbmcgPSAzOwogICAgICAgICAgdGhhdC5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgICB0aGF0LmVycm9yTXNnID0gbGFuZy5mYWlsOwogICAgICAgICAgdGhhdC4kZW1pdCgnY3JvcC11cGxvYWQtZmFpbCcsIGVyciwgZmllbGQsIGtpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIC8vIOe7keWumuaMiemUrmVzY+makOiXj+atpOaPkuS7tuS6i+S7tgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoX3RoaXMzLnZhbHVlICYmIChlLmtleSA9PSAnRXNjYXBlJyB8fCBlLmtleUNvZGUgPT0gMjcpKSB7CiAgICAgICAgX3RoaXMzLm9mZigpOwogICAgICB9CiAgICB9KTsKICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},null]}